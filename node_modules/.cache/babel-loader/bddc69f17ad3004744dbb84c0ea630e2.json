{"ast":null,"code":"import _defineProperty from\"C:/Users/Ezequiel/Desktop/Proyectos personales/testing/frontend-Portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Ezequiel/Desktop/Proyectos personales/testing/frontend-Portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Ezequiel/Desktop/Proyectos personales/testing/frontend-Portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useState,useEffect}from'react';var useForm=function useForm(callback,validate){var _useState=useState({name:\"\",email:\"\",message:\"\"}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isSubmitting=_useState6[0],setSubmitting=_useState6[1];var handleChange=function handleChange(e){var _e$target=e.target,value=_e$target.value,name=_e$target.name;setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();setErrors(validate(values));setSubmitting(true);sendEmail();};var sendEmail=function sendEmail(){console.log(\"enviando data\");axios.post(\"http://localhost:3001/contactform\",values).then(function(response){console.log(response);}).catch(function(errors){console.log(errors);});};useEffect(function(){if(Object.keys(errors).length===0&&isSubmitting){callback();}},[errors]);return{handleChange:handleChange,values:values,errors:errors,handleSubmit:handleSubmit};};export default useForm;","map":{"version":3,"sources":["C:/Users/Ezequiel/Desktop/Proyectos personales/testing/frontend-Portfolio/src/components/Content/Form/useForm.js"],"names":["axios","React","useState","useEffect","useForm","callback","validate","name","email","message","values","setValues","errors","setErrors","isSubmitting","setSubmitting","handleChange","e","target","value","handleSubmit","preventDefault","sendEmail","console","log","post","then","response","catch","Object","keys","length"],"mappings":"ikBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA0C,OAA1C,CAEA,GAAMC,CAAAA,OAAO,CAAI,QAAXA,CAAAA,OAAW,CAACC,QAAD,CAAYC,QAAZ,CAAyB,eAEVJ,QAAQ,CAAC,CACjCK,IAAI,CAAC,EAD4B,CAEjCC,KAAK,CAAC,EAF2B,CAGjCC,OAAO,CAAC,EAHyB,CAAD,CAFE,wCAE/BC,MAF+B,eAEvBC,SAFuB,8BAOVT,QAAQ,CAAC,EAAD,CAPE,yCAO/BU,MAP+B,eAOvBC,SAPuB,8BASCX,QAAQ,CAAC,KAAD,CATT,yCAS/BY,YAT+B,eAShBC,aATgB,eAWtC,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,CAAC,CAAI,eACDA,CAAC,CAACC,MADD,CACjBC,KADiB,WACjBA,KADiB,CACTZ,IADS,WACTA,IADS,CAGtBI,SAAS,gCACFD,MADE,wBAEJH,IAFI,CAEGY,KAFH,GAAT,CAKH,CARD,CASA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAH,CAAC,CAAI,CACtBA,CAAC,CAACI,cAAF,GAEAR,SAAS,CAACP,QAAQ,CAACI,MAAD,CAAT,CAAT,CACAK,aAAa,CAAC,IAAD,CAAb,CACAO,SAAS,GACZ,CAND,CAOA,GAAMA,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpBC,OAAO,CAACC,GAAR,CAAY,eAAZ,EACAxB,KAAK,CAACyB,IAAN,CAAW,mCAAX,CAAgDf,MAAhD,EACCgB,IADD,CACO,SAAAC,QAAQ,CAAG,CACdJ,OAAO,CAACC,GAAR,CAAYG,QAAZ,EACH,CAHD,EAICC,KAJD,CAIO,SAAAhB,MAAM,CAAI,CACbW,OAAO,CAACC,GAAR,CAAYZ,MAAZ,EACH,CAND,EAOH,CATD,CAUAT,SAAS,CAAC,UAAI,CACV,GAAG0B,MAAM,CAACC,IAAP,CAAYlB,MAAZ,EAAoBmB,MAApB,GAA+B,CAA/B,EAAoCjB,YAAvC,CAAqD,CACjDT,QAAQ,GAEX,CACJ,CALQ,CAKP,CAACO,MAAD,CALO,CAAT,CAQA,MAAO,CAAEI,YAAY,CAAZA,YAAF,CAAiBN,MAAM,CAANA,MAAjB,CAA0BE,MAAM,CAANA,MAA1B,CAAmCQ,YAAY,CAAZA,YAAnC,CAAP,CACH,CA9CD,CAgDA,cAAehB,CAAAA,OAAf","sourcesContent":["import axios from 'axios';\r\nimport React , {useState, useEffect} from 'react';\r\n\r\nconst useForm  = (callback , validate) => {\r\n\r\n    const [values, setValues] = useState({\r\n        name:\"\",\r\n        email:\"\",\r\n        message:\"\"\r\n    })\r\n    const [errors, setErrors] = useState({})\r\n\r\n    const [isSubmitting , setSubmitting] = useState(false);\r\n\r\n    const handleChange = e => {\r\n        let {value , name} = e.target\r\n            \r\n        setValues({\r\n            ...values,\r\n            [name]: value\r\n        })\r\n       \r\n    }\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        setErrors(validate(values));\r\n        setSubmitting(true)\r\n        sendEmail()\r\n    }\r\n    const sendEmail = () => {\r\n        console.log(\"enviando data\")\r\n        axios.post(\"http://localhost:3001/contactform\", values )\r\n        .then (response =>{\r\n            console.log(response)\r\n        })\r\n        .catch(errors => {\r\n            console.log(errors)\r\n        })\r\n    }\r\n    useEffect(()=>{\r\n        if(Object.keys(errors).length === 0 && isSubmitting ){\r\n            callback()\r\n            \r\n        }\r\n    },[errors]) \r\n\r\n\r\n    return { handleChange , values , errors , handleSubmit }\r\n}\r\n\r\nexport default useForm\r\n"]},"metadata":{},"sourceType":"module"}